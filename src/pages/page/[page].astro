---
import type { GetStaticPathsOptions } from 'astro'
import { client } from '../../lib/newt/client'
import Pagination from '../../components/Pagination.astro'

export async function getStaticPaths({ paginate }: GetStaticPathsOptions) {
  const postsData = await client.getContents({
    appUid: import.meta.env.PUBLIC_NEWT_APP_UID,
    modelUid: import.meta.env.PUBLIC_NEWT_MODEL_POST,
  })
  const postsContents = postsData.items
  return paginate(postsContents, { pageSize: 2 })
}

const { page } = Astro.props
---

<div class="">page</div>
<Pagination page={page} />
